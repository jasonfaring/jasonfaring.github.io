<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Visual Novel v1 Template</title>
	<link rel="stylesheet" href="data/mycss.css?ver=v1">
	<script src="data/myjs.js?ver=v1"></script>
</head>
<body>
	<div class="title_hero text_shadow">Visual Novel Template</div>
	<br>

	<div class="text_dialogue text_shadow">Text dialogue sample</div>
	<br>

	<div>
		<div class="text_dialogue text_shadow">Music</div>
		<button class="primary_butt" onclick="slow_music.play_dis();">slow</button>
		<button class="primary_butt" onclick="normal_music.play_dis();">normal</button>
		<button class="primary_butt" onclick="fast_music.play_dis(true);">fast (loop is set to true)</button>
		<button class="primary_butt" onclick="stop_all_music();">stop all music</button>
	</div>
	<br>

	<div>
		<div class="text_dialogue text_shadow">Load Background</div>
		<select id="mySelect" onchange="load_a_background(document.getElementById('mySelect').value);">
			<option>1.png</option>
			<option>2.png</option>
			<option>3.png</option>
			<option>4.png</option>
			<option>5.png</option>
			<option>6.png</option>
			<option>7.png</option>
		</select>
	</div>
	<br>

	<div>
		<div class="text_dialogue text_shadow">Load Character 1 and 2</div>
		<button class="primary_butt" onclick="load_speach('char1','Kate','Hi to all, welcome to our new lesson!','smile.png');">Talk</button>
		<button class="primary_butt" onclick="animate_char('char1','animate__shakeX');">Shake</button>
		<button class="primary_butt" onclick="animate_char('char1','animate__pulse');">Pulse</button>
		<select id="mySelect1" onchange="load_character('char1',document.getElementById('mySelect1').value);">
			<option>angry.png</option>
			<option>laugh.png</option>
			<option>normal.png</option>
			<option>sad.png</option>
			<option>smile.png</option>
			<option>smile2.png</option>
		</select>
		<select id="mySelect2" onchange="load_character('char2',document.getElementById('mySelect2').value);">
			<option>angry.png</option>
			<option>laugh.png</option>
			<option>normal.png</option>
			<option>sad.png</option>
			<option>smile.png</option>
			<option>smile2.png</option>
		</select>
		<button class="primary_butt" onclick="animate_char('char2','animate__pulse');">Pulse</button>
		<button class="primary_butt" onclick="animate_char('char2','animate__shakeX');">Shake</button>
		<button class="primary_butt" onclick="load_speach('char2','Nika','We will be doing a visual novel applicatin...','laugh.png');">Talk</button>
	</div>
	<br>
		
	<div>
		<div class="text_dialogue text_shadow">Show hide Dialogue</div>
		<button class="primary_butt" onclick="show_hide_diag('show');">Show Dialogue</button>
		<button class="primary_butt" onclick="show_hide_diag('close');">Hide Dialogue</button>
	</div>
	<br>
	<script type="text/javascript">
		// April 8 2024
		// By jasonxx

		window.addEventListener("load", function(){
			//create some basic elements
			auto_create_basic_element();
			//load 1.png background at start
			load_a_background('1.png');
			load_character('char1','normal.png');
			load_character('char2','normal.png');
		});

		
		function load_speach(char,charname,speech,emotion,animation='animate__pulse'){
			document.getElementById('char_name').innerHTML = `${charname}:`;
			document.getElementById('words').innerHTML = '';
			animate_char(char,animation);
			load_character(char,emotion);

			let input_this_speech = '';
			let count = speech.length;
			
			const timer = ms => new Promise(res => setTimeout(res, ms))
			async function load () {
				for (var i = 0; i < count; i++) {
					document.getElementById('words').innerHTML += speech[i];
					await timer(30);
				}
			}
			load();
		}
	</script>
</body>
</html>